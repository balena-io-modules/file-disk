- commits:
    - subject: Add versionbot changelog
      hash: be30ba6813603008ef4444cc1acdbb85cdf31db3
      body: ''
      footer:
        Change-type: patch
        change-type: patch
      author: Alexis Svinartchouk
  version: 8.0.1
  date: 2020-11-26T21:59:04.511Z
- version: 8.0.0
  date: 2020-07-27T13:53:04.000Z
  commits:
    - hash: 94c51dce0084a5241e5b8e0d04d8d02e795cf404
      author: Alexis Svinartchouk
      footers:
        change-type: major
      subject: Stop using bluebird
      body: null
- version: 7.0.1
  date: 2020-07-24T13:39:06.000Z
  commits:
    - hash: 8ef57a5649fb1873a6b91afa00fd99b7401d5ebb
      author: Alexis Svinartchouk
      footers:
        change-type: patch
      subject: Fix built files
      body: null
- version: 7.0.0
  date: 2020-07-24T13:22:12.000Z
  commits:
    - hash: 4579be845c4964d2b1a35ca826bf08d4a572481d
      author: Alexis Svinartchouk
      footers:
        change-type: major
      subject: Set tsc target to es2018
      body: null
- version: 6.0.4
  date: 2020-07-24T13:08:36.000Z
  commits:
    - hash: 160e3246c69c1fa4e83003eae83a123f81815719
      author: Alexis Svinartchouk
      footers:
        change-type: patch
      subject: Revert "Set typescript target to es2018"
      body: This reverts commit f95c55e5552840e1962a66ad5945387360ff06c0.
- version: 6.0.3
  date: 2020-07-24T11:31:28.000Z
  commits:
    - hash: 19836f3db3d237471ebf3e03541b23460968582d
      author: Alexis Svinartchouk
      footers:
        change-type: patch
      subject: Check that chunks are in the disk
      body: null
    - hash: f95c55e5552840e1962a66ad5945387360ff06c0
      author: Alexis Svinartchouk
      footers:
        change-type: patch
      subject: Set typescript target to es2018
      body: null
- version: 6.0.2
  date: 2020-07-14T14:32:03.000Z
  commits:
    - hash: 81cb7d5b239bddbf11bf05f2a3fdc61062d1d439
      author: Alexis Svinartchouk
      footers:
        change-type: patch
      subject: Use tslib
      body: null
    - hash: bff96afbfe082c719050987ceeec074076b87492
      author: Alexis Svinartchouk
      footers:
        change-type: patch
      subject: Update resin-lint -> balena-lint
      body: null
    - hash: e118190a2547a7003f2fc15bb430812078618551
      author: Alexis Svinartchouk
      footers:
        change-type: patch
      subject: Update dependencies
      body: null
    - hash: e6ac152726ebd64133790486e28b1b0fb7737626
      author: Alexis Svinartchouk
      footers:
        change-type: patch
      subject: Add .resinci.yml file
      body: null
- version: 6.0.1
  date: 2019-04-05T13:59:08.000Z
  commits:
    - hash: 45ec347fd926d378ac9da3e6dcb754b560972953
      author: Alexis Svinartchouk
      footers:
        change-type: patch
      subject: 'Fix readme: remove getBlockMap, add GetRanges'
      body: null
    - hash: eae6a7f5f9c07c761b9cea88a4ab40c737f16b93
      author: Alexis Svinartchouk
      footers:
        change-type: patch
      subject: Add an overlapping discard test
      body: null
- version: 6.0.0
  date: 2019-04-04T15:39:08.000Z
  commits:
    - hash: 858122ade1a68074a65feee9c635ccfcd89bd972
      author: Alexis Svinartchouk
      footers:
        change-type: major
      subject: Remove blockmap dependency
      body: |-
        Disk.getBlockMap is replaced by Disk.getRanges which returns a list of
        Ranges.
        A Range is { offset: number, length: number }.
        Offset and length are in bytes.
        These ranges can be used to create a blockmap if needed.
    - hash: e2f3d2418e01a7e7afa0a209e626588324cceaa7
      author: Alexis Svinartchouk
      footers:
        change-type: patch
      subject: Update ts-node and mocha
      body: null
    - hash: 19046ccd49998c0d919ce44cfb0af100be7da68a
      author: Alexis Svinartchouk
      footers:
        change-type: patch
      subject: Remove travis
      body: null
    - hash: 9dc0db8393ae797075649799a48ff8af3853c7b1
      author: Alexis Svinartchouk
      footers:
        change-type: patch
      subject: Remove no longer used .eslintrc.json file
      body: null
- version: 5.1.1
  date: 2019-03-21T15:01:31.000Z
  commits:
    - hash: f2c2d65b8a80a2bffcf7de6d51b8c1b0c9f022f3
      author: Alexis Svinartchouk
      footers:
        change-type: patch
      subject: >-
        Add noImplicitAny, noUnusedLocals, noUnusedParameters and
        strictNullChecks
      body: null
    - hash: 58f7c8aaa2947739a34cf220b62cecc16a41f939
      author: Alexis Svinartchouk
      footers:
        change-type: patch
      subject: Update resin-lint to ^3.0.1
      body: null
    - hash: 240051b9a61cb5ae743bb4e27a6814d9efcbd240
      author: Alexis Svinartchouk
      footers:
        change-type: patch
      subject: Don't use bluebird for promisifying fs read and write
      body: null
- version: 5.1.0
  date: 2018-12-21T15:29:09.000Z
  commits:
    - hash: b4c82e5b02509f7d230f798069c06fa82d216d42
      author: Alexis Svinartchouk
      footers:
        change-type: minor
      subject: 'Add BufferDisk: a Disk backed by a Buffer'
      body: This allows using a buffer as if it was a Disk
- version: 5.0.0
  date: 2018-11-29T14:06:27.000Z
  commits:
    - hash: 19f941408f6084b60efb66bd183f6f4d6c0453e4
      author: Alexis Svinartchouk
      footers:
        change-type: major
      subject: 'Remove S3Disk, moved to https://github.com/balena-io-modules/s3-disk'
      body: null
    - hash: 8ee4250548832932849b378f032f56745db5fb39
      author: Alexis Svinartchouk
      footers:
        change-type: patch
      subject: 'Update requirements, lint.'
      body: null
    - hash: 9f2653255ab5e7dc8c231cbbf929df1fbdc8badd
      author: Alexis Svinartchouk
      footers:
        change-type: patch
      subject: Rename resin -> balena
      body: null
- version: 4.1.3
  date: 2018-06-01T13:14:29.000Z
  commits:
    - hash: 80e05d0b981d10b6b62cbc03c2121b77462a7a28
      author: Alexis Svinartchouk
      footers:
        change-type: patch
      subject: 'Fix resin-lint command, aws-sdk is a dependency, not a dev dependency'
      body: null
- version: 4.1.2
  date: 2018-04-02T13:32:35.000Z
  commits:
    - hash: 09d7c328350dacf7a14fa6f20f2ac80f759226f2
      author: Alexis Svinartchouk
      footers:
        change-type: patch
      subject: Add types to package.json
      body: 'Connects-To: #15'
    - hash: 1ce24d5c7bbc9872b49344ca3dc1a30136b3dc0e
      author: Alexis Svinartchouk
      footers:
        change-type: patch
      subject: Create .map.js files and publish them
      body: 'Connects-To: #15'
- version: 4.1.1
  date: 2018-03-26T14:54:35.000Z
  commits:
    - hash: a6de59cfeef4bdbf3e846173362eb975137281d5
      author: Alexis Svinartchouk
      footers:
        change-type: patch
      subject: Fix DiskStream._read() method.
      body: 'Connects-To: #13'
- version: 4.1.0
  date: 2018-03-06T12:17:26.000Z
  commits:
    - hash: a9676241dd67f5d6549f93105cba9947e6ef9ea1
      author: Alexis Svinartchouk
      footers:
        change-type: minor
      subject: Add a Disk.getTransformStream method.
      body: |-
        This method returns a stream.Transform that adds the disk recorded
        writes to the original disk stream.
        Connects-To: #8
- version: 4.0.0
  date: 2018-03-02T20:17:17.000Z
  commits:
    - hash: b8641e7d4645472297a1215bcb1bfef70022d48d
      author: Alexis Svinartchouk
      footers:
        change-type: major
      subject: Update blockmap to 3.0.0
      body: 'Connects-To: #7'
- version: 3.0.0
  date: 2018-03-02T18:06:09.000Z
  commits:
    - hash: 31ea891a945ba0d4cf9a30d62a0c57da4eabf833
      author: Alexis Svinartchouk
      footers:
        change-type: minor
      subject: Use fat arrow functions everywhere
      body: 'Connects-To: #5'
    - hash: 3453bcdb86d82be5e6048af1d18eda77e83dd436
      author: Alexis Svinartchouk
      footers:
        change-type: major
      subject: 'Use promises everywhere, no more callbacks.'
      body: >-
        `Disk.read()` and `Disk.write()` now return Promises of objects with a
        `buffer`

        and a `bytesRead` or `bytesWritten` property.

        Connects-To: #5
    - hash: a33f8618c31c6c66e876def1ffa1e3f93f73e6d1
      author: Alexis Svinartchouk
      footers:
        change-type: major
      subject: Convert to TypeScript
      body: |-
        Also remove the DiskWrapper class
        Connects-To: #5
    - hash: 2fde3cc497703723d226cf5e859c5ae2f1ebd34a
      author: Alexis Svinartchouk
      footers:
        change-type: patch
      subject: Use `Bluebird` instead of `Promise` for naming Bluebird
      body: 'Connects-To: #5'
    - hash: aa87376a30d60e1ab55d6f740dab38e311e51877
      author: Alexis Svinartchouk
      footers:
        change-type: major
      subject: Use `async` / `await` intead of `.then` as much as possible.
      body: |-
        All `Disk` and its subclasses methods that were returning Bluebird
        promises now return regular Promises.
        Connects-To: #5
    - hash: 604a601ec31683a4628bf5d60b191af61ff82d47
      author: Alexis Svinartchouk
      footers:
        change-type: patch
      subject: Simplify DiskChunk constructor
      body: 'Connects-To: #5'
- version: 2.0.0
  date: 2018-02-28T20:21:50.000Z
  commits:
    - hash: 1f45b476872ab2b68663e7e6239692ed56770405
      author: Alexis Svinartchouk
      subject: 'rename variables, remove unnecessary if, remove console.log'
      body: null
    - hash: 6e3f4638a05411262a45e6568a306bd53de7b133
      author: Alexis Svinartchouk
      subject: Change DiskChunk insertion strategy.
      body: >-
        Don't merge DiskChunks together, only slice them.

        This will avoid unnecessary buffer copies and opens the way for
        recording discarded areas as DiskChunks.
    - hash: d8460bf77156daa17f8e5745516a7d750e533304
      author: Alexis Svinartchouk
      subject: record discards
      body: null
    - hash: 4edcf1aad07ad1a01c6ec65b0329f2d7b9d756a4
      author: Alexis Svinartchouk
      footers:
        change-type: major
      subject: Generate BlockMaps
      body: >-
        * implement getDiscardedChunks();

        * implement getBlockmap(blockSize, callback);

        * cache disk capacity;

        * change getStream prototype: getStream(position, length, highWaterMark,
        callback);
    - hash: 4bfd402d6da218fa1a598f1bdff4f617c0c2cdeb
      author: Alexis Svinartchouk
      subject: add node 4 and 8 on travis
      body: null
    - hash: cbaa6634ac7c043c1c1bba8af70bc84db9e09906
      author: Alexis Svinartchouk
      subject: remove default parameter values and spread operator to support node 4
      body: null
    - hash: b1c59f3e9d08690de8e51fe678d8bd5c1303ab3b
      author: Alexis Svinartchouk
      subject: v1.0.1
      body: null
    - hash: 3087f7f1af8525148f7695b6dc379b6755fbe6db
      author: Alexis Svinartchouk
      subject: replace js-sha256 with node's crypto module
      body: null
    - hash: 9532f0570eb8824752b91c397b9f78a071e7244d
      author: Alexis Svinartchouk
      subject: fix offset and length calculations in _readAccordingToPlan
      body: null
    - hash: 7875794ae4811f0bb2c8b10bd33a979914363995
      author: Alexis Svinartchouk
      subject: document DiskChunk and its subclasses
      body: null
    - hash: 434615f8e826436b2678ee88f8d926bd021b5f87
      author: Alexis Svinartchouk
      subject: Simplify blocks position calculation
      body: null
    - hash: 37e3b9ec4b1a4266d8c69c98e528714e357b4f18
      author: Alexis Svinartchouk
      subject: Simplify tests code
      body: null
    - hash: 2fa0e599a2026b3ea0008f1b26f1bda942bc6c07
      author: Alexis Svinartchouk
      subject: >-
        Allow omitting getStream() position and length parameters + tests +
        updated documentation
      body: null
    - hash: a017518b49bd7f5dd8e58250aaa144867ef6c164
      author: Alexis Svinartchouk
      subject: Update minio docker run command so it works with latest versions.
      body: Also kill minio after tests.
    - hash: 6e271d4257ee9b1064ae3518f0c6779a7277b08a
      author: Alexis Svinartchouk
      subject: Update bloackmap to ^2.0.2
      body: Also remove a useless return in tests
    - hash: a161f9d7302044dcd8e3efaeb26779f125003e12
      author: Alexis Svinartchouk
      subject: getBlockMap() now has a calculateChecksums boolean argument
      body: null
    - hash: b2e18004c4c1da812bc862e9bf1422dc96cba441
      author: Alexis Svinartchouk
      subject: >-
        bugfix: when a disk was raising an error with no errno property, the
        error was ignored and the result was undefined
      body: null
    - hash: 4f389f4ef827d3252fd181d5823e894301dd00a5
      author: Alexis Svinartchouk
      subject: >-
        Update streamSha256 to get the hash only when the hash transform stream
        emits 'finish'.
      body: null
    - hash: 559e5624e432e90f902305b3ba77dfc4c4f1a435
      author: Alexis Svinartchouk
      subject: Use default parameter
      body: null
    - hash: 3adee4e8a5f29a2c0a26cd4d3fa7b2f566e2a789
      author: Alexis Svinartchouk
      subject: Use promises in blockmap.js to simplify code
      body: null
    - hash: 824f898e211003de24952d89335472ad5da0fe2f
      author: Alexis Svinartchouk
      subject: mergeBlocks is now a generator and does not modify its input
      body: null
    - hash: 0e671266d7c4ae7026163bed9635e6aac2cc8d3b
      author: Alexis Svinartchouk
      subject: update dependencies
      body: null
    - hash: 7913d219ff6a5c9eff27eb726e6e6f9ddd9ee0eb
      author: Alexis Svinartchouk
      subject: >-
        Use promises to simplify _readAccordingToPlan and make it read
        sequentially
      body: null
    - hash: 2e156f1f2b1ec00a3cbd85555bec070654ff6da9
      author: Alexis Svinartchouk
      subject: bump version to 2.0.0
      body: null
    - hash: da6f099a439d1cffef2316e6675f126ce28bd760
      author: Alexis Svinartchouk
      subject: drop node4 support
      body: null
    - hash: 7ed3dc289f1a017683e4641825942cb626fa6c77
      author: Alexis Svinartchouk
      subject: Handle hash errors
      body: null
    - hash: 9f7e6ca94c6ebec83378acff78cdef100d0de019
      author: Alexis Svinartchouk
      subject: Fix typo
      body: null
    - hash: 758c781fa2b7fd22c379dfaf43c6fa7b91016838
      author: Alexis Svinartchouk
      subject: Use ...argv to simplify getStream parameters
      body: null
    - hash: 88d70480780610591d4b90324c399a68bc390f56
      author: Alexis Svinartchouk
      subject: fix typo
      body: null
- version: 0.0.12
  date: 2017-06-06T17:57:36.000Z
  commits:
    - hash: 6d119043cf11cdc8d5c64b4ce7a635637d8f4485
      author: Andrew Scheller
      footers:
        change-type: patch
      subject: Add a `homepage` section to package.json
      body: "So that an appropriate link gets displayed on https://www.npmjs.com/package/file-disk\r\nSee also https://github.com/resin-io/node-lkl/pull/36\r\n\r"
